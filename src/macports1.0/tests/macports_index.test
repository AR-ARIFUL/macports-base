package require tcltest 2
namespace import tcltest::*

set pwd [file normalize $argv0]
set pwd [eval file join {*}[lrange [file split $pwd] 0 end-1]]

source ../macports_test_autoconf.tcl
source $macports::autoconf::macports_tcl_dir/macports1.0/macports_fastload.tcl
package require macports 1.0


# test init


test get_path {
    Get path unit test.
} -body {
    set macports::portdbpath $pwd/portdbpath
    set url "http://www.macports.org"

    if {[macports::index::get_path $url] != "${macports::portdbpath}/sources/http.www.macports.org"} {
	   return "FAIL: wrong path"
    }
    return "Get path successful."
} -result "Get path successful."


# test sync
# test search
# test fetch_port


cleanupTests
